!function (t) { var s = function (s) { this.origHtmlMargin = parseFloat(t("html").css("margin-top")), this.options = t.extend({}, t.smartbanner.defaults, s); var i = navigator.standalone, e = navigator.userAgent; if (this.options.force ? this.type = this.options.force : null != e.match(/iPad|iPhone|iPod/i) ? null != e.match(/Safari/i) && (null != e.match(/CriOS/i) || window.Number(navigator.userAgent.substr(navigator.userAgent.indexOf("OS ") + 3, 3).replace("_", ".")) < 6) && (this.type = "ios") : null != e.match(/Android/i) ? this.type = "android" : null != e.match(/Windows NT 6.2/i) && null !== e.match(/Touch/i) && (this.type = "windows"), this.type && !i && !this.getCookie("sb-closed") && !this.getCookie("sb-installed")) { this.scale = "auto" == this.options.scale ? t(window).width() / window.screen.width : this.options.scale, this.scale < 1 && (this.scale = 1); var n = t("android" == this.type ? 'meta[name="google-play-app"]' : "ios" == this.type ? 'meta[name="apple-itunes-app"]' : 'meta[name="msApplication-ID"]'); 0 != n.length && ("windows" == this.type ? (this.pfn = t('meta[name="msApplication-PackageFamilyName"]').attr("content"), this.appId = n.attr("content")[1]) : this.appId = /app-id=([^\s,]+)/.exec(n.attr("content"))[1], this.title = this.options.title ? this.options.title : t("title").text().replace(/\s*[|\-·].*$/, ""), this.author = this.options.author ? this.options.author : t('meta[name="author"]').length ? t('meta[name="author"]').attr("content") : window.location.hostname, this.create(), this.show(), this.listen()) } }; s.prototype = { constructor: s, create: function () { var s, i = this.options.url ? this.options.url : ("windows" == this.type ? "ms-windows-store:PDP?PFN=" + this.pfn : "android" == this.type ? "market://details?id=" : "https://itunes.apple.com/" + this.options.appStoreLanguage + "/app/id") + this.appId, e = this.options.price ? this.options.price + " - " + ("android" == this.type ? this.options.inGooglePlay : "ios" == this.type ? this.options.inAppStore : this.options.inWindowsStore) : "", n = null === this.options.iconGloss ? "ios" == this.type : this.options.iconGloss; t("body").append('<div id="smartbanner" class="' + this.type + '"><div class="sb-container"><a href="#" class="sb-close">&times;</a><span class="sb-icon"></span><div class="sb-info"><strong>' + this.title + "</strong><span>" + this.author + "</span><span>" + e + '</span></div><a href="' + i + '" class="sb-button"><span>' + this.options.button + "</span></a></div></div>"), this.options.icon ? s = this.options.icon : t('link[rel="apple-touch-icon-precomposed"]').length > 0 ? (s = t('link[rel="apple-touch-icon-precomposed"]').attr("href"), null === this.options.iconGloss && (n = !1)) : t('link[rel="apple-touch-icon"]').length > 0 ? s = t('link[rel="apple-touch-icon"]').attr("href") : t('meta[name="msApplication-TileImage"]').length > 0 ? s = t('meta[name="msApplication-TileImage"]').attr("content") : t('meta[name="msapplication-TileImage"]').length > 0 && (s = t('meta[name="msapplication-TileImage"]').attr("content")), s ? (t("#smartbanner .sb-icon").css("background-image", "url(" + s + ")"), n && t("#smartbanner .sb-icon").addClass("gloss")) : t("#smartbanner").addClass("no-icon"), this.bannerHeight = t("#smartbanner").outerHeight() + 2, this.scale > 1 && (t("#smartbanner").css("top", parseFloat(t("#smartbanner").css("top")) * this.scale).css("height", parseFloat(t("#smartbanner").css("height")) * this.scale), t("#smartbanner .sb-container").css("-webkit-transform", "scale(" + this.scale + ")").css("-msie-transform", "scale(" + this.scale + ")").css("-moz-transform", "scale(" + this.scale + ")").css("width", t(window).width() / this.scale)) }, listen: function () { t("#smartbanner .sb-close").on("click", t.proxy(this.close, this)), t("#smartbanner .sb-button").on("click", t.proxy(this.install, this)) }, show: function (s) { t("#smartbanner").stop().animate({ top: 0 }, this.options.speedIn).addClass("shown"), t("html").animate({ marginTop: this.origHtmlMargin + this.bannerHeight * this.scale }, this.options.speedIn, "swing", s) }, hide: function (s) { t("#smartbanner").stop().animate({ top: -1 * this.bannerHeight * this.scale }, this.options.speedOut).removeClass("shown"), t("html").animate({ marginTop: this.origHtmlMargin }, this.options.speedOut, "swing", s) }, close: function (t) { t.preventDefault(), this.hide(), this.setCookie("sb-closed", "true", this.options.daysHidden) }, install: function () { this.hide(), this.setCookie("sb-installed", "true", this.options.daysReminder) }, setCookie: function (t, s, i) { var e = new Date; e.setDate(e.getDate() + i), s = escape(s) + (null == i ? "" : "; expires=" + e.toUTCString()), document.cookie = t + "=" + s + "; path=/;" }, getCookie: function (t) { var s, i, e, n = document.cookie.split(";"); for (s = 0; s < n.length; s++) if (i = n[s].substr(0, n[s].indexOf("=")), e = n[s].substr(n[s].indexOf("=") + 1), i = i.replace(/^\s+|\s+$/g, ""), i == t) return unescape(e); return null }, switchType: function () { var s = this; this.hide(function () { s.type = "android" == s.type ? "ios" : "android"; var i = t("android" == s.type ? 'meta[name="google-play-app"]' : 'meta[name="apple-itunes-app"]').attr("content"); s.appId = /app-id=([^\s,]+)/.exec(i)[1], t("#smartbanner").detach(), s.create(), s.show() }) } }, t.smartbanner = function (i) { var e = t(window), n = e.data("typeahead"), a = "object" == typeof i && i; n || e.data("typeahead", n = new s(a)), "string" == typeof i && n[i]() }, t.smartbanner.defaults = { title: null, author: null, price: "Ücretsiz", appStoreLanguage: "us", inAppStore: "App Store'da", inGooglePlay: "Google Play'de", inWindowsStore: "Windows Store'da", icon: null, iconGloss: null, button: "Aç", url: null, scale: "auto", speedIn: 300, speedOut: 400, daysHidden: 15, daysReminder: 90, force: null }, t.smartbanner.Constructor = s }(window.jQuery);